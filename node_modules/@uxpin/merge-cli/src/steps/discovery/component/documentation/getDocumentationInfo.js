"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getDocumentationInfo = void 0;
const pAny = require("p-any");
const path_1 = require("path");
const isFile_1 = require("../../../../utils/fs/isFile");
const tapPromise_1 = require("../../../../utils/promise/tapPromise");
function getDocumentationInfo(paths) {
    const { projectRoot, componentDirPath, componentDirName } = paths;
    const fileNames = ['Readme.md', 'README.md', `${componentDirName}.md`];
    const possiblePaths = fileNames.map((fileName) => path_1.join(projectRoot, componentDirPath, fileName));
    return pAny(possiblePaths.map(tapPromise_1.tapPromise(isExactFile))).then((foundPath) => ({
        path: path_1.relative(projectRoot, foundPath),
    }));
}
exports.getDocumentationInfo = getDocumentationInfo;
function isExactFile(path) {
    return isFile_1.isFile(path, { caseSensitive: true }).then((value) => {
        if (!value) {
            throw new Error(`${path} is not a file`);
        }
    });
}
//# sourceMappingURL=getDocumentationInfo.js.map