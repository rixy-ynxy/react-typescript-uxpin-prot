"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createEPID = void 0;
const crypto_1 = require("crypto");
const uuid_1 = require("uuid");
const saveEPID_1 = require("./saveEPID");
function createEPID(filePath, epid = {}) {
    return saveEPID_1.saveEPID(filePath, Object.assign({}, epid, { revisionId: generateRandomRevisionId() }));
}
exports.createEPID = createEPID;
function generateRandomRevisionId() {
    const designSystemId = uuid_1.v4();
    const commitHash = generateRandomCommitHash();
    return `${designSystemId}_${commitHash}`;
}
function generateRandomCommitHash() {
    return crypto_1.createHash('sha1').update(String(+new Date())).digest('hex');
}
//# sourceMappingURL=createEPID.js.map