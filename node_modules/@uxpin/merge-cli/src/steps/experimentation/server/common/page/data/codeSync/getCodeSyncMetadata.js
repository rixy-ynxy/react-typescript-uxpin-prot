"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getCodeSyncMetadata = void 0;
const getComponentsCollection_1 = require("./component/getComponentsCollection");
const getPresetsCollection_1 = require("./preset/getPresetsCollection");
function getCodeSyncMetadata(input) {
    const { ngrokSessionId, port, revisionId } = input;
    return {
        bundles: {
            [revisionId]: getBundleUrl(port, ngrokSessionId),
        },
        components: getComponentsCollection_1.getComponentsCollection(input),
        presets: getPresetsCollection_1.getPresetsCollection(input),
    };
}
exports.getCodeSyncMetadata = getCodeSyncMetadata;
function getBundleUrl(port, ngrokSessionId) {
    return ngrokSessionId
        ? `https://${ngrokSessionId}.ngrok.io/code/library.js`
        : `http://localhost:${port}/code/library.js`;
}
//# sourceMappingURL=getCodeSyncMetadata.js.map