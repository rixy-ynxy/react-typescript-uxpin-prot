"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getComponentsCollection = void 0;
const lodash_1 = require("lodash");
const getDesignSystemId_1 = require("../getDesignSystemId");
const getComponentId_1 = require("./getComponentId");
function getComponentsCollection({ revisionId, metadata }) {
    const designSystemId = getDesignSystemId_1.getDesignSystemId(revisionId);
    const components = lodash_1.flatMap(metadata.categorizedComponents, (c) => c.components);
    return components.reduce((all, component) => {
        const componentId = getComponentId_1.getComponentId(designSystemId, component.info);
        all[componentId] = {
            componentId,
            info: component.info,
            name: component.name,
            namespace: component.namespace,
            properties: component.properties,
            revisionId,
            wrappers: component.wrappers,
        };
        return all;
    }, {});
}
exports.getComponentsCollection = getComponentsCollection;
//# sourceMappingURL=getComponentsCollection.js.map