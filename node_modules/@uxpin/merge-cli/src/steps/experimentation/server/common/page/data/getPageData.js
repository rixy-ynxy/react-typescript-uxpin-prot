"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getPageData = void 0;
const tslib_1 = require("tslib");
const getProjectMetadata_1 = require("../../../../metadata/getProjectMetadata");
const getPageContent_1 = require("../content/getPageContent");
const getCodeSyncMetadata_1 = require("./codeSync/getCodeSyncMetadata");
function getPageData(input) {
    return tslib_1.__awaiter(this, void 0, void 0, function* () {
        const { ngrokSessionId, port, revisionId, uxpinDirPath } = input;
        const metadata = yield getProjectMetadata_1.getProjectMetadata(uxpinDirPath);
        const pageContent = yield getPageContent_1.getPageContent(input, metadata);
        return {
            code_sync: getCodeSyncMetadata_1.getCodeSyncMetadata({ ngrokSessionId, metadata, port, revisionId }),
            component_version: null,
            components_master_ids: [],
            components_versions: [],
            components_versions_map: [],
            is_component: '0',
            last_update: '0',
            page: pageContent,
        };
    });
}
exports.getPageData = getPageData;
//# sourceMappingURL=getPageData.js.map