"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.provideRequestToHandler = void 0;
const lodash_1 = require("lodash");
const url_1 = require("url");
function provideRequestToHandler({ handler, uri }, request, response) {
    if (!lodash_1.isRegExp(uri)) {
        return handler.handle(request, response, []);
    }
    const pathname = url_1.parse(request.url, true).pathname;
    const regexResult = uri.exec(pathname);
    if (!regexResult) {
        return handler.handle(request, response, []);
    }
    const [, ...uriParams] = regexResult;
    return handler.handle(request, response, uriParams);
}
exports.provideRequestToHandler = provideRequestToHandler;
//# sourceMappingURL=provideRequestToHandler.js.map