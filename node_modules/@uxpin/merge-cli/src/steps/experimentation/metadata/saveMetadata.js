"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.thunkSaveMetadataLibrary = exports.METADATA_FILE_NAME = void 0;
const tslib_1 = require("tslib");
const sortobject = require("sortobject");
const writeToFile_1 = require("../../../utils/fs/writeToFile");
const getMetadataFilePath_1 = require("./getMetadataFilePath");
exports.METADATA_FILE_NAME = 'metadata.json';
const INDENT = 2;
function thunkSaveMetadataLibrary(buildOptions) {
    return ({ result }) => tslib_1.__awaiter(this, void 0, void 0, function* () {
        yield saveMetadata(getMetadataFilePath_1.getMetadataFilePath(buildOptions.uxpinDirPath), result);
    });
}
exports.thunkSaveMetadataLibrary = thunkSaveMetadataLibrary;
function saveMetadata(filePath, snapshot) {
    const serializedSnapshot = JSON.stringify(sortobject(snapshot), null, INDENT);
    return writeToFile_1.writeToFile(filePath, serializedSnapshot);
}
//# sourceMappingURL=saveMetadata.js.map