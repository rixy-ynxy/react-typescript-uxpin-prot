"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getDefaultPropsFromParamDestructuring = void 0;
const ts = require("typescript");
const getNodeName_1 = require("../node/getNodeName");
const getDefaultPropertyValue_1 = require("./getDefaultPropertyValue");
function getDefaultPropsFromParamDestructuring(context, func) {
    if (!func.parameters || !func.parameters[0] || !ts.isObjectBindingPattern(func.parameters[0].name)) {
        return {};
    }
    const binding = func.parameters[0].name;
    return binding.elements.reduce((defaults, element) => {
        if (isBindingElementWithIdentifierNameAndInitializer(element)) {
            const defaultValue = getDefaultPropertyValue_1.getDefaultPropertyValue(context, element.initializer);
            if (typeof defaultValue !== 'undefined') {
                defaults[getNodeName_1.getNodeName(element).toString()] = defaultValue;
            }
        }
        return defaults;
    }, {});
}
exports.getDefaultPropsFromParamDestructuring = getDefaultPropsFromParamDestructuring;
function isBindingElementWithIdentifierNameAndInitializer(element) {
    return !!element.initializer && ts.isIdentifier(element.name);
}
//# sourceMappingURL=getDefaultPropsFromParamDestructuring.js.map