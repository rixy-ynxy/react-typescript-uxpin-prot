"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getSerializationContext = void 0;
const ts = require("typescript");
const findComponentFile_1 = require("../component/findComponentFile");
function getSerializationContext(component) {
    const { path } = component;
    const program = ts.createProgram([path], {
        jsx: ts.JsxEmit.React,
        module: ts.ModuleKind.CommonJS,
        target: ts.ScriptTarget.ES2015,
    });
    const file = findComponentFile_1.findComponentFile(program, path);
    if (!file) {
        throw new Error('TypeScript compiler couldn\'t find component file');
    }
    return {
        checker: program.getTypeChecker(),
        componentPath: path,
        file,
        program,
    };
}
exports.getSerializationContext = getSerializationContext;
//# sourceMappingURL=getSerializationContext.js.map