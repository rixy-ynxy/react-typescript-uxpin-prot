"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getPropsTypeAndDefaultProps = void 0;
const ts = require("typescript");
const getDefaultPropsFromParamDestructuring_1 = require("../defaultValue/getDefaultPropsFromParamDestructuring");
const getDefaultPropsOfClassComponent_1 = require("../defaultValue/getDefaultPropsOfClassComponent");
const getPropsTypeOfClassComponent_1 = require("../property/getPropsTypeOfClassComponent");
const getPropsTypeOfFunctionalComponent_1 = require("../property/getPropsTypeOfFunctionalComponent");
const findFunctionFromVariableDeclaration_1 = require("./findFunctionFromVariableDeclaration");
const getVariableDeclaration_1 = require("./getVariableDeclaration");
const isClassComponentDeclaration_1 = require("./isClassComponentDeclaration");
const isFunctionalComponentDeclaration_1 = require("./isFunctionalComponentDeclaration");
function getPropsTypeAndDefaultProps(context, component) {
    if (ts.isVariableDeclaration(component)) {
        const fnDeclaration = findFunctionFromVariableDeclaration_1.findFunctionFromVariableDeclaration(context.file, component);
        if (fnDeclaration) {
            return {
                defaultProps: getDefaultPropsFromParamDestructuring_1.getDefaultPropsFromParamDestructuring(context, fnDeclaration),
                propsTypeNode: getPropsTypeOfFunctionalComponent_1.getPropsTypeOfFunctionalComponent(fnDeclaration, component),
            };
        }
    }
    if (isFunctionalComponentDeclaration_1.isFunctionalComponentDeclaration(component)) {
        return {
            defaultProps: getDefaultPropsFromParamDestructuring_1.getDefaultPropsFromParamDestructuring(context, component),
            propsTypeNode: getPropsTypeOfFunctionalComponent_1.getPropsTypeOfFunctionalComponent(component, getVariableDeclaration_1.getVariableDeclaration(context)),
        };
    }
    if (isClassComponentDeclaration_1.isClassComponentDeclaration(component)) {
        return {
            defaultProps: getDefaultPropsOfClassComponent_1.getDefaultPropsOfClassComponent(context, component),
            propsTypeNode: getPropsTypeOfClassComponent_1.getPropsTypeOfClassComponent(component),
        };
    }
    return { defaultProps: {}, propsTypeNode: undefined };
}
exports.getPropsTypeAndDefaultProps = getPropsTypeAndDefaultProps;
//# sourceMappingURL=getPropsTypeAndDefaultProps.js.map