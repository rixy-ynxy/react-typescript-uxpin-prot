"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.convertLiteralUnionSegment = void 0;
const lodash_1 = require("lodash");
const LITERAL_TYPE_REGEX = /(^['"]([^"']+)['"]$)|(\-?\d+(\.\d+)?)/;
const NUMBER_GROUP_ID = 3;
const STRING_GROUP_ID = 2;
function convertLiteralUnionSegment(value) {
    const literalMatch = value.match(LITERAL_TYPE_REGEX);
    if (!literalMatch) {
        return null;
    }
    const literalValue = getValue(literalMatch);
    if (literalValue === null) {
        return null;
    }
    return { name: 'literal', structure: { value: literalValue } };
}
exports.convertLiteralUnionSegment = convertLiteralUnionSegment;
function getValue(match) {
    if (match[NUMBER_GROUP_ID] === undefined) {
        return match[STRING_GROUP_ID];
    }
    const numberValue = lodash_1.toNumber(match[NUMBER_GROUP_ID]);
    return isNaN(numberValue)
        ? null
        : numberValue;
}
//# sourceMappingURL=convertLiteralUnionSegment.js.map