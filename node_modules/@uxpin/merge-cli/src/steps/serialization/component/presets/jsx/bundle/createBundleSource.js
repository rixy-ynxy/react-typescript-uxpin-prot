"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createBundleSource = void 0;
const tslib_1 = require("tslib");
const fs_extra_1 = require("fs-extra");
const path_1 = require("path");
const uuid_1 = require("uuid");
const getTempDirPath_1 = require("../../../../../../program/args/providers/paths/getTempDirPath");
const writeToFile_1 = require("../../../../../../utils/fs/writeToFile");
const getSourceFileContentToBundle_1 = require("./getSourceFileContentToBundle");
function createBundleSource(programArgs, components) {
    return tslib_1.__awaiter(this, void 0, void 0, function* () {
        const tempDirPath = getTempDirPath_1.getTempDirPath(programArgs);
        yield fs_extra_1.ensureDir(tempDirPath);
        const bundleSourcePath = path_1.resolve(tempDirPath, getUniqueFileName());
        yield writeToFile_1.writeToFile(bundleSourcePath, getSourceFileContentToBundle_1.getSourceFileContentToBundle(tempDirPath, components));
        return bundleSourcePath;
    });
}
exports.createBundleSource = createBundleSource;
function getUniqueFileName() {
    return `presets-${uuid_1.v4()}.js`;
}
//# sourceMappingURL=createBundleSource.js.map