"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getPresetsBundle = void 0;
const tslib_1 = require("tslib");
const fs_extra_1 = require("fs-extra");
const compilePresets_1 = require("../compile/compilePresets");
function getPresetsBundle(programArgs, components) {
    return tslib_1.__awaiter(this, void 0, void 0, function* () {
        const bundlePath = yield compilePresets_1.compilePresets(programArgs, components);
        const bundle = require(bundlePath);
        unRequire(bundlePath);
        yield fs_extra_1.unlink(bundlePath);
        return bundle;
    });
}
exports.getPresetsBundle = getPresetsBundle;
function unRequire(name) {
    delete require.cache[require.resolve(name)];
}
//# sourceMappingURL=getPresetsBundle.js.map