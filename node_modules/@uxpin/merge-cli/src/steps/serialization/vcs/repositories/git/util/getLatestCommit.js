"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getLatestCommit = void 0;
const tslib_1 = require("tslib");
const execAsync_1 = require("../../../../../../utils/child_process/execAsync");
const removeNewLines_1 = require("./removeNewLines");
function getLatestCommit(cwd) {
    return tslib_1.__awaiter(this, void 0, void 0, function* () {
        const options = { cwd };
        const author = removeNewLines_1.removeNewLines(yield execAsync_1.execAsync('git log -n 1 --pretty=format:\'%an\'', options));
        const date = removeNewLines_1.removeNewLines(yield execAsync_1.execAsync('git log -n 1 --pretty=format:\'%cD\'', options));
        const hash = removeNewLines_1.removeNewLines(yield execAsync_1.execAsync('git rev-parse HEAD', options));
        const message = removeNewLines_1.removeNewLines(yield execAsync_1.execAsync('git log -n 1 --pretty=format:\'%s\'', options));
        return {
            author,
            date,
            hash,
            message,
        };
    });
}
exports.getLatestCommit = getLatestCommit;
//# sourceMappingURL=getLatestCommit.js.map