"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.experimentationOpenBrowserStep = void 0;
const tslib_1 = require("tslib");
const getAPPExperimentationRemoteURL_1 = require("../../../../steps/experimentation/app/getAPPExperimentationRemoteURL");
const openUserBrowserOnSpecificUrl_1 = require("../../../../utils/browser/openUserBrowserOnSpecificUrl");
const getExperimentServerOptions_1 = require("./common/getExperimentServerOptions");
function experimentationOpenBrowserStep(args, store) {
    return { exec: openBrowser(args, store), shouldRun: !args.skipBrowser };
}
exports.experimentationOpenBrowserStep = experimentationOpenBrowserStep;
function openBrowser(args, store) {
    return (ds) => tslib_1.__awaiter(this, void 0, void 0, function* () {
        const appURL = getAPPExperimentationRemoteURL_1.getAPPExperimentationRemoteURL(yield getExperimentServerOptions_1.getExperimentServerOptions(args, store.state));
        yield openUserBrowserOnSpecificUrl_1.openUserBrowserOnSpecificUrl(appURL);
        return ds;
    });
}
//# sourceMappingURL=experimentationOpenBrowserStep.js.map